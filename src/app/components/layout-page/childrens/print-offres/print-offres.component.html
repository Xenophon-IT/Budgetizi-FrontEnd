<div class="col-lg-12 grid-margin stretch-card">
    <div class="card">
        <div class="card-body">
            <h4 class="card-title text-center">Liste des Ressources </h4>
            <div class="form-group row">
                <label>Id-Offre</label>
                <div class="col-sm-9">
                    <input #box (keyup.enter)="onEnter(box.value)" type="text" class="form-control" class="typeahead"
                        placeholder="Enter your id Offre..." />
                </div>

            </div>
            <ng-container *ngIf="visible2">
                <div class="table-responsive">
                    <div id="content" #content>
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th colspan="12">
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        Offre financière</th>
                                </tr>
                                <tr class="centertext">
                                    <th rowspan="2"></th>
                                    <!-- <th rowspan="2">Désignation</th> -->
                                    <!-- <th rowspan="2">Worker Profile</th> -->
                                    <th rowspan="2">Full Name</th>
                                    <th rowspan="2">Unit</th>
                                    <th colspan="4">Worker Price</th>
                                    <th rowspan="2">FG%</th>
                                    <th rowspan="2">Costs DT</th>
                                    <th colspan="3">Company Marge</th>
                                </tr>
                                <tr class="centertext">
                                    <th>Q. Company</th>
                                    <th>Q. Site</th>
                                    <th>T. Proposition</th>
                                    <th>T. Revient</th>
                                    <th>Marge Brute</th>
                                    <th>Marge Nette</th>
                                    <th>Marge %</th>
                                </tr>

                            </thead>

                            <tbody>
                                <tr *ngFor="let item of getAllInformation">
                                    <!-- <td>Step1</td> -->
                                    <td class="py-1">
                                        <img src="{{item['profileWork']}}" alt="image" />
                                    </td>
                                    <td>{{item['fullName']}}</td>
                                    <td>Hour</td>
                                    <td>{{item['hoursWorkCompany']}}</td>
                                    <td>{{item['hoursWorkOutCompany']}}</td>
                                    <td>{{item['tPropositionByWorker']}}</td>
                                    <td>{{item['tRevientByWorker']}}</td>
                                    <td>{{item['FG']}} %</td>
                                    <td>{{item['CostsByWorker']}}</td>
                                    <td>{{item['tMargeBrute']}}</td>
                                    <td>{{item['tMargeNet']}}</td>
                                    <td>{{item['tMargeNetPC']}} %</td>
                                </tr>
                                <tr *ngFor="let item of getAllInformationForStep1">
                                    <th>Total Step1</th>
                                    <!-- <td></td> -->
                                    <td></td>
                                    <td>T. Hour</td>
                                    <td>{{item['totaleQtyWork']}}</td>
                                    <td></td>
                                    <td>{{item['totaleProposition']}}</td>
                                    <td>{{item['totaleRevient']}}</td>
                                    <td></td>
                                    <td>{{item['CostsGlobale']}}</td>
                                    <td>{{item['totaleMargeBrute']}}</td>
                                    <td>{{item['totaleMargeNet']}}</td>
                                    <td>{{item['totaleMargeNetPC']}} %</td>
                                </tr>
                                <tr>
                                    <th colspan="12">
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        Step1: Assistance du MO passage des contrats
                                    </th>
                                </tr>
                                <tr *ngFor="let item of getAllInformationForStep2Worker">
                                    <!-- <td>Step2</td> -->
                                    <td class="py-1">
                                        <img src="{{item['profileWork']}}" alt="image" />
                                    </td>
                                    <td>{{item['fullName']}}</td>
                                    <td>Hour-Day</td>
                                    <td>{{item['hoursWorkCompany']}}</td>
                                    <td>{{item['hoursWorkOutCompany']}}</td>
                                    <td>{{item['tPropositionByWorker']}}</td>
                                    <td>{{item['tRevientByWorker']}}</td>
                                    <td>{{item['FG']}} %</td>
                                    <td>{{item['CostsByWorker']}}</td>
                                    <td>{{item['tMargeBrute']}}</td>
                                    <td>{{item['tMargeNet']}}</td>
                                    <td>{{item['tMargeNetPC']}} %</td>
                                </tr>
                                <tr *ngFor="let item of getAllInformationForStep2">
                                    <th>Total Step2</th>
                                    <!-- <td></td> -->
                                    <td></td>
                                    <td>T. Hours-Days</td>
                                    <td>{{item['totaleQtyWork']}}</td>
                                    <td></td>
                                    <td>{{item['totaleProposition']}}</td>
                                    <td>{{item['totaleRevient']}}</td>
                                    <td></td>
                                    <td>{{item['CostsGlobale']}}</td>
                                    <td>{{item['totaleMargeBrute']}}</td>
                                    <td>{{item['totaleMargeNet']}}</td>
                                    <td>{{item['totaleMargeNetPC']}} %</td>
                                </tr>
                                <tr>
                                    <th colspan="12">
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        Step2: Approbation des dossiers d'exécution
                                    </th>
                                </tr>
                                <tr *ngFor="let item of getAllInformationForStep3Worker">
                                    <!-- <td>Step3</td> -->
                                    <td class="py-1">
                                        <img src="{{item['profileWork']}}" alt="image" />
                                    </td>
                                    <td>{{item['fullName']}}</td>
                                    <td>Hour-Day</td>
                                    <td>{{item['hoursWorkCompany']}}</td>
                                    <td>{{item['hoursWorkOutCompany']}}</td>
                                    <td>{{item['tPropositionByWorker']}}</td>
                                    <td>{{item['tRevientByWorker']}}</td>
                                    <td>{{item['FG']}} %</td>
                                    <td>{{item['CostsByWorker']}}</td>
                                    <td>{{item['tMargeBrute']}}</td>
                                    <td>{{item['tMargeNet']}}</td>
                                    <td>{{item['tMargeNetPC']}} %</td>
                                </tr>
                                <tr *ngFor="let item of getAllInformationForStep3">
                                    <th>Total Step3</th>
                                    <!-- <td></td> -->
                                    <td></td>
                                    <td>T. Hours-Days</td>
                                    <td>{{item['totaleQtyWork']}}</td>
                                    <td></td>
                                    <td>{{item['totaleProposition']}}</td>
                                    <td>{{item['totaleRevient']}}</td>
                                    <td></td>
                                    <td>{{item['CostsGlobale']}}</td>
                                    <td>{{item['totaleMargeBrute']}}</td>
                                    <td>{{item['totaleMargeNet']}}</td>
                                    <td>{{item['totaleMargeNetPC']}} %</td>
                                </tr>
                                <tr>
                                    <th colspan="12">
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        Step3 : Suivi des travaux
                                    </th>
                                </tr>
                                <tr>
                                    <th>Total S1/2/3</th>
                                    <!-- <td></td> -->
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <th>Proposition</th>
                                    <th>Revient</th>
                                    <td></td>
                                    <th>Cost+FG</th>
                                    <th>Marge Brute</th>
                                    <th>Marge Nette</th>
                                    <th>Marge</th>
                                </tr>
                                <tr *ngFor="let item of getAllInformationForFinalOffre">
                                    <th></th>
                                    <!-- <td></td> -->
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td>{{item['globalProposition']}}</td>
                                    <td>{{item['globalRevient']}}</td>
                                    <td></td>
                                    <td>{{item['globalRevientAndFG']}}</td>
                                    <td>{{item['globalMargeBrute']}}</td>
                                    <td>{{item['globalMargeNete']}}</td>
                                    <td>{{item['globalFinaleMarge']}} %</td>
                                </tr>
                                <tr>
                                    <th colspan="12">
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        Offre Technique</th>
                                </tr>
                                <tr>
                                    <th></th>
                                    <th>
                                        Reference Produit
                                    </th>
                                    <th>
                                        Nom Produit
                                    </th>
                                    <th>
                                        Prix Unitaire
                                    </th>
                                    <th>
                                        Quantité
                                    </th>
                                    <th>
                                        Marge %
                                    </th>
                                    <th>
                                        Remise %
                                    </th>
                                    <th>
                                        T. après Marge
                                    </th>
                                    <th>
                                        T. après Remise
                                    </th>
                                    <th>
                                        Totale HT
                                    </th>
                                    <th></th>
                                </tr>
                                <tr *ngFor="let item of getAllProducts">
                                    <td></td>
                                    <td>
                                        {{item['referenceProduit']}} </td>
                                    <td>
                                        {{item['nomProduit']}}
                                    </td>
                                    <td>
                                        {{item['prixUnitaire']}}
                                    </td>
                                    <td>
                                        {{item['quantity']}}
                                    </td>
                                    <td>
                                        {{item['marge']}} %
                                    </td>
                                    <td>
                                        {{item['remise']}} %
                                    </td>
                                    <td>
                                        {{item['totaleApresMarge']}}
                                    </td>
                                    <td>
                                        {{item['totaleApresRemise']}}
                                    </td>
                                    <td>
                                        {{item['totaleHT']}}
                                    </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <th>Total Step4</th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th></th>
                                    <th>{{sommeOFProducts}} DT</th>
                                    <th></th>
                                </tr>
                                <tr>
                                    <th colspan="12">
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        Step4: Fourniture des équipements du projets
                                    </th>
                                </tr>
                                <tr>
                                    <th colspan="12">
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        Offre Technique + Financière</th>
                                </tr>
                                <tr>
                                    <th>Total Finale</th>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <th>Proposition</th>
                                    <th>Revient</th>
                                    <th></th>
                                    <th>Cost+FG</th>
                                    <th>Marge Brute</th>
                                    <th>Marge Nette</th>
                                    <th>Marge Finale</th>
                                </tr>
                                <tr *ngFor="let item of getAllInformationForFinalOffre">
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <th>{{totaleProposition}}</th>
                                    <td>{{item['globalRevient']}}</td>
                                    <th></th>
                                    <td>{{item['globalRevientAndFG']}}</td>
                                    <td>{{item['globalMargeBrute']}}</td>
                                    <th>{{item['globalMargeNete']}}</th>
                                    <td>{{item['globalFinaleMarge']}} %</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </ng-container>
        </div>
        <ng-container *ngIf="visible2">
            <div class="text-right">
                <button type="button" (click)="print()" class="btn btn-outline-info btn-icon-text">
                    Print
                    <i class="fas fa-print"></i>
                </button>

            </div>
        </ng-container>
    </div>
</div>